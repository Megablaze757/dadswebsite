<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sash Window Configurator</title>
<style>
body { font-family: Arial, sans-serif; background:#f5f7f9; margin:20px; color:#2c3e50; }
.container { max-width:1200px; margin:0 auto; }
header { background:#2c3e50; color:white; padding:20px; text-align:center; border-radius:8px; margin-bottom:20px; }
h1 { margin:0; font-size:24px; }

.configurator { display:flex; flex-wrap:wrap; gap:20px; }
.config-panel, .preview-panel { background:white; padding:20px; border-radius:8px; flex:1; min-width:300px; box-shadow:0 5px 15px rgba(0,0,0,.05); }
.form-group { margin-bottom:15px; }
label { display:block; margin-bottom:5px; font-weight:bold; }
input, select { width:100%; padding:8px; border-radius:6px; border:1px solid #ccc; font-size:14px; }
button { padding:10px 15px; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
#calculateBtn { background:#3498db; color:white; margin-top:10px; }
#calculateBtn:hover { background:#2980b9; }
#clearReports { background:#e74c3c; color:white; margin-top:10px; }
#clearReports:hover { background:#c0392b; }

.window-preview { width:100%; max-width:320px; height:240px; border:3px solid #2c3e50; border-radius:5px; display:flex; align-items:center; justify-content:center; margin-bottom:15px; overflow:hidden; }
.window-preview img { width:100%; height:100%; object-fit:contain; }

.reports-container { margin-top:30px; }
.report { border:1px solid #ccc; border-radius:8px; padding:15px; margin-bottom:15px; background:white; display:flex; gap:15px; }
.report img { width:100px; height:175px; object-fit:cover; border-radius:4px; border:1px solid #ddd; }
.report-details { flex:1; }
.report-details h3 { margin:0 0 5px; }
.report-details p { margin:3px 0; font-size:14px; }
.total-price { text-align:right; font-weight:bold; margin-top:5px; }
.grand-total { text-align:right; font-size:22px; font-weight:bold; margin-top:15px; }

@media(max-width:768px){
  .configurator { flex-direction:column; }
  .report { flex-direction:column; align-items:center; }
  .report-details { text-align:center; }
}
</style>
</head>
<body>

<div class="container">
  <header>
    <h1>Sash Window Configurator</h1>
  </header>

  <div class="configurator">
    <!-- CONFIG PANEL -->
    <div class="config-panel">
      <div class="form-group">
        <label for="designSelect">Design</label>
        <select id="designSelect">
          <option value="1">Design 1</option>
          <option value="2">Design 2</option>
          <option value="3">Design 3</option>
          <option value="4">Design 4</option>
          <option value="5">Design 5</option>
          <option value="6">Design 6</option>
          <option value="7">Design 7</option>
          <option value="8">Design 8</option>
          <option value="9">Design 9</option>
          <option value="10">Design 10</option>
          <option value="11">Design 11</option>
          <option value="12">Design 12</option>
        </select>
      </div>
      <div class="form-group">
        <label for="widthInput">Width (mm)</label>
        <input type="number" id="widthInput" value="1000">
      </div>
      <div class="form-group">
        <label for="heightInput">Height (mm)</label>
        <input type="number" id="heightInput" value="1000">
      </div>
      <div class="form-group">
        <label for="quantityInput">Quantity</label>
        <input type="number" id="quantityInput" value="1">
      </div>
      <button id="calculateBtn">Calculate Window</button>
      <button id="clearReports">Clear All Reports</button>
    </div>

    <!-- PREVIEW PANEL -->
    <div class="preview-panel">
      <div class="window-preview" id="windowPreview">
        <img id="previewImage" src="" alt="Window Preview">
      </div>
      <div class="price-display">
        <span id="priceLabel">Unit Price: £0</span>
      </div>
    </div>
  </div>

  <!-- REPORTS -->
  <div class="reports-container" id="reportsContainer"></div>
  <div class="grand-total" id="grandTotal">Grand Total: £0.00</div>
</div>

<script>
// === Prices for old website ===
const designPrices = {
  1: 865.52, 2: 900, 3: 950, 4: 1000,
  5: 1050, 6: 1100, 7: 1150, 8: 1200,
  9: 1250, 10: 1300, 11: 2000, 12: 2200
};

// === Design images from uploaded capture ===
// You can replace with separate image files if available
const designImages = {
  1: 'file-XWZT4g89quGmaCVfQyYjBL', // uploaded image placeholder
  2: 'file-XWZT4g89quGmaCVfQyYjBL',
  3: 'file-XWZT4g89quGmaCVfQyYjBL',
  4: 'file-XWZT4g89quGmaCVfQyYjBL',
  5: 'file-XWZT4g89quGmaCVfQyYjBL',
  6: 'file-XWZT4g89quGmaCVfQyYjBL',
  7: 'file-XWZT4g89quGmaCVfQyYjBL',
  8: 'file-XWZT4g89quGmaCVfQyYjBL',
  9: 'file-XWZT4g89quGmaCVfQyYjBL',
  10: 'file-XWZT4g89quGmaCVfQyYjBL',
  11: 'file-XWZT4g89quGmaCVfQyYjBL',
  12: 'file-XWZT4g89quGmaCVfQyYjBL'
};

// Global grand total
let grandTotal = 0;

document.getElementById('calculateBtn').addEventListener('click', () => {
  const design = parseInt(document.getElementById('designSelect').value);
  const width = parseInt(document.getElementById('widthInput').value);
  const height = parseInt(document.getElementById('heightInput').value);
  const quantity = parseInt(document.getElementById('quantityInput').value);

  // === VALIDATION ===
  let valid = true;
  let msg = '';

  if (design >=1 && design <=10) {
    if (width < 500 || width > 1400) { valid=false; msg='Width must be 500-1400mm'; }
    if (height < 1000 || height > 2500) { valid=false; msg='Height must be 1000-2500mm'; }
  } else if (design === 11) {
    if (width < 1500 || width > 2400) { valid=false; msg='Width must be 1500-2400mm'; }
    if (height < 1500 || height > 2400) { valid=false; msg='Height must be 1500-2400mm'; }
  } else if (design === 12) {
    if (width < 1800 || width > 2700) { valid=false; msg='Width must be 1800-2700mm'; }
    if (height < 1500 || height > 2400) { valid=false; msg='Height must be 1500-2400mm'; }
  }

  if (!valid) { alert(msg); return; }

  const unitPrice = designPrices[design];
  const totalPrice = unitPrice * quantity;
  grandTotal += totalPrice;

  // --- Update preview ---
  document.getElementById('previewImage').src = designImages[design];
  document.getElementById('priceLabel').textContent = `Unit Price: £${unitPrice.toFixed(2)}`;

  // --- Generate report card ---
  const report = document.createElement('div');
  report.className = 'report';
  report.innerHTML = `
    <img src="${designImages[design]}" alt="Design Image">
    <div class="report-details">
      <h3>Design ${design}</h3>
      <p>Window Size: ${width} mm x ${height} mm</p>
      <p>Quantity: ${quantity}</p>
      <p>Unit Price: £${unitPrice.toFixed(2)}</p>
      <p class="total-price">Total: £${totalPrice.toFixed(2)}</p>
      <p>Profile: Traditional 147mm sash box with weights balance</p>
      <p>Timber: Engineered core wood PINE with hardwood SAPELE sill</p>
      <p>Finish: Internal/External RAL9016 White</p>
      <p>Glass: 4mm / 12 argon / 4mm Low-E / 1.1W/m2K</p>
      <p>Bars: 22mm bars with spacer</p>
      <p>Ironmongery: Lockable fastener, sash lifts & pulleys</p>
      <p>Sill: Flush hardwood SAPELE</p>
      <p>Board: Not requested / no groove</p>
      <p>Ventilation: Not requested</p>
      <button onclick="alert('PDF Download for Design ${design}')">Download PDF Sketch</button>
    </div>
  `;
  document.getElementById('reportsContainer').appendChild(report);

  // Update grand total
  document.getElementById('grandTotal').textContent = `Grand Total: £${grandTotal.toFixed(2)}`;
});

// Clear all reports
document.getElementById('clearReports').addEventListener('click', () => {
  document.getElementById('reportsContainer').innerHTML = '';
  grandTotal = 0;
  document.getElementById('grandTotal').textContent = `Grand Total: £0.00`;
});
</script>
</body>
</html>
